{"version":3,"sources":["tests/subscriptions.test.js"],"names":["describe","it","pubsub","PubSub","sqlInstance","subscriptions","Task","models","schema","document","ai","result","Promise","all","next","create","name","gqlResult","value","data","afterCreateTask","id","toEqual","task","update","afterUpdateTask","destroy","afterDestroyTask","modelTimeout","modelCount","taskModel","define","type","Sequelize","STRING","allowNull","before","params","resolve","reject","clearTimeout","setTimeout","undefined","err","console","log","options","tableName","hooks","instance","dialect","logging","sync","mutation","mutationResult","er"],"mappings":"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","file":"subscriptions.test.js","sourceRoot":"../../src/"}