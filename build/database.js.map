{"version":3,"sources":["database.js"],"names":["connect","log","schemas","instance","loadSchemas","options","defaultAttr","defaultModel","forEach","schema","classMethods","instanceMethods","test","version","define","name","Object","assign","models","$sqlgql","keys","classMethod","instanceMethod","prototype","relationships","relationship","createRelationship","model","type","as","targetModel","sourceModel","source","target","rel","err","error"],"mappings":"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","file":"database.js","sourceRoot":"../src/"}