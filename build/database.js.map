{"version":3,"sources":["database.js"],"names":["connect","log","schemas","instance","options","loadSchemas","defaultAttr","defaultModel","forEach","schema","define","name","Object","assign","models","$gqlsql","test","version","classMethods","instanceMethods","keys","classMethod","instanceMethod","prototype","relationships","relationship","createRelationship","model","type","as","targetModel","sourceModel","source","target","rel","err","error"],"mappings":"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","file":"database.js","sourceRoot":"../src/"}