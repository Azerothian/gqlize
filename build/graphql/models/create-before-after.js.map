{"version":3,"sources":["graphql/models/create-before-after.js"],"names":["createBeforeAfter","model","options","hooks","targetBeforeFuncs","targetAfterFuncs","after","concat","modelDefinition","primaryKeys","Object","keys","fieldRawAttributesMap","filter","k","primaryKey","foreignKeys","references","before","push","params","args","context","info","type","events","QUERY","result","targetBefore","findOptions","rootValue","where","length","results","reduce","prev","curr","targetAfter","targetAfterArray","map","afterList"],"mappings":"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","file":"create-before-after.js","sourceRoot":"../../../src/"}